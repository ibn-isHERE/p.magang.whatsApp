<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Pesan Pengingat</title>
    <link
      rel="icon"
      type="image/x-icon"
      href="/wa_pengingat/public/asset/result_bps.png"
    />
    <link rel="stylesheet" href="chat_style.css" />
    <link rel="stylesheet" href="css/main.css" />
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
    />
    <link
      href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet"
    />
    <script src="/socket.io/socket.io.js"></script>
  </head>

  <body>
    <div class="navbar">
      <div class="navbar-left">
        <img
          src="https://upload.wikimedia.org/wikipedia/commons/thumb/2/28/Lambang_Badan_Pusat_Statistik_%28BPS%29_Indonesia.svg/1726px-Lambang_Badan_Pusat_Statistik_%28BPS%29_Indonesia.svg.png"
          alt="Logo BPS"
        />
        <span class="navbar-text">Badan Pusat Statistik</span>
      </div>
    </div>

    <main>
      <div class="app-header">
        <h1>Pesan Pengingat WhatsApp</h1>
      </div>

      <div class="main-content">
        <section class="form-container">
          <div class="tabs">
            <div id="main-tabs">
              <button class="tab-button active" onclick="showForm('message')">
                <i class="fa-solid fa-envelope"></i> Kirim Pesan
              </button>
              <button class="tab-button" onclick="showForm('meeting')">
                <i class="fa-solid fa-calendar-check"></i> Jadwal Rapat
              </button>
              <button class="tab-button" onclick="showForm('contacts')">
                <i class="fa-solid fa-address-book"></i> Manajemen Kontak
              </button>
              <button class="tab-button" onclick="showForm('group')">
                <i class="fa-solid fa-users"></i> Manajemen Grup
              </button>
              <button class="tab-button" onclick="showForm('chat')">
                <i class="fa-solid fa-comments"></i> Customer Service
                <span
                  id="chatBadge"
                  class="notification-badge"
                  style="display: none"
                  >0</span
                >
              </button>
            </div>
            <button id="edit-tab" class="tab-button" style="display: none">
              <i class="fa-solid fa-pencil"></i> Edit Jadwal
            </button>
          </div>

          <!-- IMPROVED MESSAGE FORM dengan Tab System -->
          <div id="messageFormContainer" class="form-content active">
            <h2>Buat Jadwal Pesan</h2>
            <form id="reminderForm" enctype="multipart/form-data">
              <!-- ====== RECIPIENT SELECTION WITH TABS ====== -->
              <div class="recipient-tabs-container">
                <div class="recipient-tabs">
                  <button
                    type="button"
                    class="recipient-tab active"
                    data-tab="contacts"
                  >
                    <i class="fa-solid fa-user"></i> Kontak Individual
                  </button>
                  <button type="button" class="recipient-tab" data-tab="groups">
                    <i class="fa-solid fa-users"></i> Grup
                  </button>
                </div>

                <!-- TAB PANEL: KONTAK INDIVIDUAL -->
                <div class="recipient-panel active" id="contactsPanel">
                  <div class="search-box-wrapper">
                    <i class="fa-solid fa-search"></i>
                    <input
                      type="text"
                      id="contactSearch"
                      placeholder="Cari kontak berdasarkan nama atau nomor..."
                      autocomplete="off"
                    />
                  </div>

                  <div class="quick-actions">
                    <button
                      type="button"
                      class="quick-action-btn select-all"
                      id="selectAllContactsBtn"
                    >
                      <i class="fa-solid fa-check-double"></i> Pilih Semua
                    </button>
                    <button
                      type="button"
                      class="quick-action-btn deselect-all"
                      id="deselectAllContactsBtn"
                    >
                      <i class="fa-solid fa-times"></i> Batal Semua
                    </button>
                  </div>

                  <div id="contactList" class="contact-checklist-box"></div>

                  <div class="selection-info" id="contactSelectionInfo">
                    <small>Belum ada kontak dipilih</small>
                  </div>
                </div>

                <!-- TAB PANEL: GRUP -->
                <div class="recipient-panel" id="groupsPanel">
                  <div class="search-box-wrapper">
                    <i class="fa-solid fa-search"></i>
                    <input
                      type="text"
                      id="groupSearch"
                      placeholder="Cari grup..."
                      autocomplete="off"
                    />
                  </div>

                  <div class="quick-actions">
                    <button
                      type="button"
                      class="quick-action-btn select-all"
                      id="selectAllGroupsBtn"
                    >
                      <i class="fa-solid fa-check-double"></i> Pilih Semua
                    </button>
                    <button
                      type="button"
                      class="quick-action-btn deselect-all"
                      id="deselectAllGroupsBtn"
                    >
                      <i class="fa-solid fa-times"></i> Batal Semua
                    </button>
                  </div>

                  <div
                    id="groupSelectionList"
                    class="contact-checklist-box"
                  ></div>

                  <div id="groupSelectionInfo">
                    <small>Belum ada grup dipilih</small>
                  </div>
                </div>
              </div>

              <!-- NOMOR MANUAL -->
              <label for="manualNumbers">
                <i class="fa-solid fa-keyboard"></i> Nomor Manual (opsional):
              </label>
              <input
                type="text"
                id="manualNumbers"
                placeholder="Contoh: 08123456789, 08234567890"
              />
              <small
                style="
                  display: block;
                  color: #718096;
                  margin-top: 4px;
                  font-size: 12px;
                "
              >
                Pisahkan dengan koma jika lebih dari satu
              </small>

              <!-- FILE UPLOAD -->
              <div class="file-upload-section">
                <label>
                  <i class="fa-solid fa-paperclip"></i> Lampiran File (Gambar,
                  Video, PDF):
                </label>
                <div class="file-upload-container">
                  <input
                    type="file"
                    id="fileUpload"
                    name="fileUpload"
                    accept="image/*,video/*,application/pdf"
                    multiple
                  />
                  <span class="file-upload-label" data-input="fileUpload">
                    <i class="fa-solid fa-cloud-upload"></i> Klik untuk memilih
                    file
                  </span>
                  <div id="customFilePreview"></div>
                </div>
                <button
                  type="button"
                  id="clearAllFilesBtn"
                  style="display: none"
                >
                  <i class="fa-solid fa-trash"></i> Hapus Semua File
                </button>
              </div>

              <!-- MESSAGE -->
              <label for="message">
                <i class="fa-solid fa-comment-dots"></i> Pesan:
              </label>
              <textarea
                id="message"
                name="message"
                placeholder="Tulis pesan Anda di sini..."
                rows="4"
              ></textarea>

              <!-- SCHEDULE TIME -->
              <label for="datetime">
                <i class="fa-solid fa-clock"></i> Waktu Kirim:
              </label>
              <input
                type="datetime-local"
                id="datetime"
                name="datetime"
                required
              />

              <button type="submit">
                <i class="fa-solid fa-paper-plane"></i> Kirim Pesan
              </button>
            </form>
          </div>

          <!-- IMPROVED MEETING FORM dengan Tab System -->
          <div id="meetingFormContainer" class="form-content hidden">
            <h2>Buat Jadwal Rapat</h2>
            <form id="addMeetingForm">
              <!-- MEETING TITLE -->
              <label for="meetingTitle">
                <i class="fa-solid fa-heading"></i> Judul Rapat:
              </label>
              <input
                type="text"
                id="meetingTitle"
                placeholder="Contoh: Rapat Koordinasi Tim"
                required
              />

              <!-- ====== RECIPIENT SELECTION WITH TABS ====== -->
              <div class="recipient-tabs-container">
                <div class="recipient-tabs">
                  <button
                    type="button"
                    class="recipient-tab active"
                    data-tab="meeting-contacts"
                  >
                    <i class="fa-solid fa-user"></i> Kontak Individual
                  </button>
                  <button
                    type="button"
                    class="recipient-tab"
                    data-tab="meeting-groups"
                  >
                    <i class="fa-solid fa-users"></i> Grup
                  </button>
                </div>

                <!-- TAB PANEL: KONTAK INDIVIDUAL -->
                <div class="recipient-panel active" id="meetingContactsPanel">
                  <div class="search-box-wrapper">
                    <i class="fa-solid fa-search"></i>
                    <input
                      type="text"
                      id="meetingContactSearch"
                      placeholder="Cari kontak berdasarkan nama atau nomor..."
                      autocomplete="off"
                    />
                  </div>

                  <div class="quick-actions">
                    <button
                      type="button"
                      class="quick-action-btn select-all"
                      id="selectAllMeetingContactsBtn"
                    >
                      <i class="fa-solid fa-check-double"></i> Pilih Semua
                    </button>
                    <button
                      type="button"
                      class="quick-action-btn deselect-all"
                      id="deselectAllMeetingContactsBtn"
                    >
                      <i class="fa-solid fa-times"></i> Batal Semua
                    </button>
                  </div>

                  <div
                    id="meetingContactList"
                    class="contact-checklist-box"
                  ></div>

                  <div class="selection-info" id="meetingContactSelectionInfo">
                    <small>Belum ada kontak dipilih</small>
                  </div>
                </div>

                <!-- TAB PANEL: GRUP -->
                <div class="recipient-panel" id="meetingGroupsPanel">
                  <div class="search-box-wrapper">
                    <i class="fa-solid fa-search"></i>
                    <input
                      type="text"
                      id="meetingGroupSearch"
                      placeholder="Cari grup..."
                      autocomplete="off"
                    />
                  </div>

                  <div class="quick-actions">
                    <button
                      type="button"
                      class="quick-action-btn select-all"
                      id="selectAllMeetingGroupsBtn"
                    >
                      <i class="fa-solid fa-check-double"></i> Pilih Semua
                    </button>
                    <button
                      type="button"
                      class="quick-action-btn deselect-all"
                      id="deselectAllMeetingGroupsBtn"
                    >
                      <i class="fa-solid fa-times"></i> Batal Semua
                    </button>
                  </div>

                  <div
                    id="meetingGroupSelectionList"
                    class="contact-checklist-box"
                  ></div>

                  <div id="meetingGroupSelectionInfo">
                    <small>Belum ada grup dipilih</small>
                  </div>
                </div>
              </div>

              <!-- NOMOR MANUAL -->
              <label for="meetingNumbers">
                <i class="fa-solid fa-keyboard"></i> Nomor Manual (opsional):
              </label>
              <input
                type="text"
                id="meetingNumbers"
                placeholder="Contoh: 081234567890, 089876543210"
              />
              <small
                style="
                  display: block;
                  color: #718096;
                  margin-top: 4px;
                  font-size: 12px;
                "
              >
                Pisahkan dengan koma jika lebih dari satu
              </small>

              <!-- FILE UPLOAD -->
              <div class="file-upload-section">
                <label>
                  <i class="fa-solid fa-paperclip"></i> Lampiran File untuk
                  Rapat:
                </label>
                <div class="file-upload-container">
                  <input
                    type="file"
                    id="meetingFileUpload"
                    name="files"
                    accept="image/*,video/*,application/pdf"
                    multiple
                  />
                  <span
                    class="file-upload-label"
                    data-input="meetingFileUpload"
                  >
                    <i class="fa-solid fa-cloud-upload"></i> Klik untuk memilih
                    file
                  </span>
                  <div id="meetingFileNames" class="customFilePreview">
                    Belum ada file terpilih
                  </div>
                </div>
                <button
                  type="button"
                  id="clearAllMeetingFilesBtn"
                  style="display: none"
                >
                  <i class="fa-solid fa-trash"></i> Hapus Semua File
                </button>
              </div>

              <!-- MEETING ROOM -->
              <label for="meetingRoom">
                <i class="fa-solid fa-door-open"></i> Ruangan Rapat:
              </label>
              <select id="meetingRoom" required>
                <option value="">-- Pilih Ruangan --</option>
                <option value="Aula Lantai 3">Aula Lantai 3</option>
                <option value="Ruang Sungkai">Ruang Sungkai</option>
                <option value="Ruang distribusi">Ruang Distribusi</option>
                <option value="Ruang Garda SE">Ruang Garda SE</option>
                <option value="Ruang PST">Ruang PST</option>
              </select>

              <!-- START TIME -->
              <div class="form-group">
                <label for="meetingStartTime">
                  <i class="fa-solid fa-hourglass-start"></i> Waktu Mulai Rapat:
                </label>
                <input
                  type="datetime-local"
                  id="meetingStartTime"
                  class="form-control"
                  required
                />
              </div>

              <!-- END TIME -->
              <div class="form-group">
                <label for="meetingEndTime">
                  <i class="fa-solid fa-hourglass-end"></i> Waktu Selesai Rapat:
                </label>
                <input
                  type="datetime-local"
                  id="meetingEndTime"
                  class="form-control"
                  required
                />
              </div>

              <button type="submit">
                <i class="fa-solid fa-calendar-check"></i> Jadwalkan Rapat
              </button>
            </form>
          </div>

          <div id="editFormContainer" class="form-content hidden"></div>

          <div id="contactsFormContainer" class="form-content hidden">
            <h2>Manajemen Kontak</h2>
            <form id="contact-crud-form">
              <h3>Tambah / Edit Kontak</h3>
              <input type="hidden" id="contact-crud-id" />

              <label for="contact-crud-name">
                <i class="fa-solid fa-user"></i> Nama Kontak:
              </label>
              <input
                type="text"
                id="contact-crud-name"
                class="phone-num-input"
                placeholder="Nama Kontak"
                required
              />

              <label for="contact-crud-number" style="margin-top: 12px">
                <i class="fa-solid fa-phone"></i> Nomor:
              </label>
              <input
                type="tel"
                id="contact-crud-number"
                class="phone-num-input"
                placeholder="Nomor (contoh: 0812...)"
                required
              />

              <label for="contact-crud-instansi" style="margin-top: 12px">
                <i class="fa-solid fa-building"></i> Instansi:
              </label>
              <select id="contact-crud-instansi" required>
                <option value="">-- Pilih Instansi --</option>
                <option value="Tim ZI">Tim ZI</option>
                <option value="Tim Umum">Tim Umum</option>
                <option value="Tim Statistik Sosial">
                  Tim Statistik Sosial
                </option>
                <option value="Tim Statistik Distribusi">
                  Tim Statistik Distribusi
                </option>
                <option value="Tim Neraca Wilayah dan Analisis Statistik">
                  Tim Neraca Wilayah dan Analisis Statistik
                </option>
                <option value="Tim Statistik Produksi">
                  Tim Statistik Produksi
                </option>
                <option value="Tim IPDS (TI)">Tim IPDS (TI)</option>
                <option value="Tim IPDS (DLS)">Tim IPDS (DLS)</option>
                <option value="Tim Administrasi">Tim Administrasi</option>
                <option value="Tim Humas dan UKK">Tim Humas dan UKK</option>
                <option value="Tim Statistik Sektoral">
                  Tim Statistik Sektoral
                </option>
                <option value="Tim Manajemen dan Tata Kelola">
                  Tim Manajemen dan Tata Kelola
                </option>
              </select>

              <label for="contact-crud-jabatan" style="margin-top: 12px">
                <i class="fa-solid fa-briefcase"></i> Jabatan:
              </label>
              <select id="contact-crud-jabatan" required>
                <option value="">-- Pilih Jabatan --</option>
                <option value="Kepala Bagian Umum">Kepala Bagian Umum</option>
                <option value="Pegawai">Pegawai</option>
              </select>

              <!-- ✅ NEW: Group Checkbox Selection -->
              <label for="contactCrudGroupSearch" style="margin-top: 16px">
                <i class="fa-solid fa-users"></i> Grup (pilih satu atau lebih):
              </label>
              <div class="search-box-wrapper" style="margin-bottom: 8px">
                <i class="fa-solid fa-search"></i>
                <input
                  type="text"
                  id="contactCrudGroupSearch"
                  placeholder="Cari grup..."
                  autocomplete="off"
                />
              </div>
              <div
                id="contactCrudGroupList"
                class="contact-checklist-box"
                style="max-height: 200px; overflow-y: auto; margin-bottom: 8px"
              >
                <p style="text-align: center; color: #a0aec0">
                  Memuat daftar grup...
                </p>
              </div>
              <div
                id="contactCrudGroupInfo"
                style="
                  margin-bottom: 16px;
                  padding: 8px;
                  background: #f7fafc;
                  border-radius: 4px;
                "
              >
                <small style="color: #a0aec0">Belum ada grup dipilih</small>
              </div>

              <button type="submit" id="contact-crud-submit">
                <i class="fa-solid fa-plus"></i> Tambah Kontak
              </button>
              <button
                type="button"
                id="contact-crud-cancel"
                style="
                  display: none;
                  background-color: #6c757d;
                  margin-top: 10px;
                "
              >
                <i class="fa-solid fa-times"></i> Batal
              </button>
            </form>

            <form
              id="import-form"
              action="/api/import"
              method="post"
              enctype="multipart/form-data"
              style="margin-top: 30px"
            >
              <h3>Import Kontak dari File</h3>
              <input
                type="file"
                name="contactFile"
                accept=".csv, .json, .xlsx, .xls"
                required
              />
              <button type="submit">
                <i class="fa-solid fa-file-import"></i> Import
              </button>
            </form>
          </div>

          <div id="groupsFormContainer" class="form-content hidden">
            <h2>Manajemen Grup</h2>
            <form id="group-crud-form">
              <h3>Tambah / Edit Grup</h3>
              <input type="hidden" id="group-crud-id" />
              <label for="group-crud-name">Nama Grup:</label>
              <input
                type="text"
                id="group-crud-name"
                placeholder="Contoh: Tim TI, Semua Pegawai"
                required
              />

              <label for="groupContactSearch">Cari Kontak:</label>
              <input
                type="text"
                id="groupContactSearch"
                placeholder="Cari kontak..."
                autocomplete="off"
              />
              <div class="select-all-container">
                <label for="selectAllGroupContacts">Pilih Semua Anggota</label>
                <input type="checkbox" id="selectAllGroupContacts" />
              </div>
              <div id="groupContactList" class="contact-checklist-box">
                <p style="text-align: center">Memuat daftar kontak...</p>
              </div>

              <input type="hidden" id="group-crud-members" value="" />

              <button type="submit" id="group-crud-submit">Tambah Grup</button>
              <button
                type="button"
                id="group-crud-cancel"
                style="display: none; background-color: #6c757d"
              >
                Batal
              </button>
            </form>
          </div>

          <div id="chatSidebarContainer" class="form-content hidden">
            <div class="chat-tabs">
              <button class="chat-tab-button active" data-status="active">
                Daftar Percakapan
              </button>
              <button class="chat-tab-button" data-status="history">
                History Chat
              </button>
            </div>

            <div class="chat-search">
              <input
                type="text"
                id="chatSearch"
                placeholder="Cari nomor atau pesan..."
              />
              <i class="fa-solid fa-search"></i>
            </div>

            <div class="chat-list" id="chatList"></div>
          </div>
        </section>

        <section class="content-area">
          <div class="schedule-container" id="scheduleContainer">
            <div class="schedule-header">
              <h2>Jadwal Pesan Terkirim/Terjadwal</h2>
              <div class="filter-buttons d-flex justify-content-center mb-3">
                <button class="filter-button active" data-filter="all">
                  Semua
                </button>
                <button class="filter-button" data-filter="meeting">
                  Jadwal Rapat
                </button>
                <button class="filter-button" data-filter="terjadwal">
                  Terjadwal
                </button>
                <button class="filter-button" data-filter="terkirim">
                  Terkirim
                </button>
                <button class="filter-button" data-filter="dibatalkan">
                  Dibatalkan
                </button>
                <button class="filter-button" data-filter="gagal">Gagal</button>
              </div>
            </div>

            <div class="table-wrapper">
              <table id="scheduleTable">
                <thead>
                  <tr>
                    <th>Waktu Terjadwal</th>
                    <th>Nomor Tujuan</th>
                    <th>Pesan</th>
                    <th>File</th>
                    <th>Status</th>
                    <th>Aksi</th>
                  </tr>
                </thead>
                <tbody></tbody>
              </table>
            </div>
          </div>

          <div
            class="chat-main-container"
            id="chatMainContainer"
            style="display: none"
          >
            <div class="chat-header" id="chatHeader">
              <div class="chat-info">
                <h3 id="activeContactName">Pilih percakapan</h3>
                <span id="activeContactNumber"></span>
              </div>
              <div class="chat-actions">
                <button id="refreshChatBtn" title="Refresh">
                  <i class="fa-solid fa-refresh"></i>
                </button>
                <button id="endChatBtn" title="Akhiri Chat" style="color: red">
                  <i class="fa-solid fa-ban"></i>
                </button>
              </div>
            </div>

            <div class="chat-messages" id="chatMessages">
              <div class="no-chat-selected">
                <i class="fa-solid fa-comments"></i>
                <p>Pilih percakapan untuk mulai chat</p>
              </div>
            </div>

            <div
              class="chat-input-area"
              id="chatInputArea"
              style="display: none"
            >
              <div class="chat-input-container">
                <input
                  type="file"
                  id="chatFileInput"
                  accept="image/*,video/*,application/pdf"
                  style="display: none"
                />
                <button id="attachFileBtn" title="Lampirkan File">
                  <i class="fa-solid fa-paperclip"></i>
                </button>

                <input
                  type="text"
                  id="replyInput"
                  placeholder="Ketik balasan..."
                />

                <button id="sendReplyBtn" title="Kirim">
                  <i class="fa-solid fa-paper-plane"></i>
                </button>
              </div>
            </div>
          </div>



<!-- ========================================
     GANTI bagian contactMainContainer di index.html
     ======================================== -->

<div id="contactMainContainer" class="contact-main-container">
  <div class="schedule-header">
    <h3>Daftar Kontak Tersimpan</h3>
  </div>

  <!-- 🔍 Advanced Filter untuk Kontak -->
  <div class="member-filter-container" style="margin-bottom: 20px;">
    <div class="filter-header">
      <h4><i class="fa-solid fa-filter"></i> Filter Kontak</h4>
      <button id="clearAllContactFilters" class="clear-all-filters-btn" style="display: none;">
        <i class="fa-solid fa-times"></i> Reset Semua Filter
      </button>
    </div>
    
    <div class="filter-grid">
      <div class="filter-item">
        <label><i class="fa-solid fa-user"></i> Nama</label>
        <input 
          type="text" 
          id="filterContactName" 
          placeholder="Cari nama..." 
          class="filter-input"
          autocomplete="off"
        />
      </div>
      
      <div class="filter-item">
        <label><i class="fa-solid fa-phone"></i> Nomor</label>
        <input 
          type="text" 
          id="filterContactNumber" 
          placeholder="Cari nomor..." 
          class="filter-input"
          autocomplete="off"
        />
      </div>
      
      <div class="filter-item">
        <label><i class="fa-solid fa-building"></i> Instansi</label>
        <input 
          type="text" 
          id="filterContactInstansi" 
          placeholder="Cari instansi..." 
          class="filter-input"
          autocomplete="off"
        />
      </div>
      
      <div class="filter-item">
        <label><i class="fa-solid fa-briefcase"></i> Jabatan</label>
        <input 
          type="text" 
          id="filterContactJabatan" 
          placeholder="Cari jabatan..." 
          class="filter-input"
          autocomplete="off"
        />
      </div>
    </div>
    
    <div id="filterContactResultInfo" class="filter-result-info"></div>
  </div>

  <!-- ✅ NEW: Bulk Actions Bar -->
  <div class="bulk-actions-bar" style="margin-bottom: 16px; padding: 10px 12px; background: #f7fafc; border-radius: 8px; border: 2px solid #e2e8f0; display: flex; align-items: center; gap: 8px; flex-wrap: wrap;">
  <div style="display: ruby;">
    <button 
      type="button"
      id="selectAllContactsDelete" 
      class="quick-action-btn select-all"
      style="padding: 6px 10px; font-size: 12px; margin: 0;"
    >
      <i class="fa-solid fa-check-double"></i> Pilih Semua
    </button>
    
    <button 
      type="button"
      id="deselectAllContactsDelete" 
      class="quick-action-btn deselect-all"
      style="padding: 6px 10px; font-size: 12px; margin: 0;"
    >
      <i class="fa-solid fa-times"></i> Batalkan Semua
    </button>
  </div>
  
  
<button 
  id="bulkDeleteContactBtn" 
  class="btn-remove-members" 
  style="display: none; margin-left: auto; padding: 7px 12px; font-size: 12px;"
  disabled
>
  <i class="fa-solid fa-trash"></i> Hapus <span id="bulkDeleteCount">0</span> Kontak
</button>
</div>


  <div class="table-wrapper">
    <table id="contact-management-table">
      <thead>
        <tr>
          <th style="width: 40px; text-align: center;">
            <i class="fa-solid fa-check-square" style="color: #4299e1;"></i>
          </th>
          <th>Nama</th>
          <th>Nomor</th>
          <th>Instansi</th>
          <th>Jabatan</th>
          <th>Grup</th>
          <th>Aksi</th>
        </tr>
      </thead>
      <tbody id="contact-management-tbody"></tbody>
    </table>
    <div id="noContactResults" class="no-search-results" style="display: none;">
      <i class="fa-solid fa-search"></i>
      <p>Tidak ada kontak yang cocok dengan pencarian</p>
    </div>
  </div>
</div>

          <div id="groupMainContainer" class="contact-main-container">
            <div class="schedule-header">
              <h3>Daftar Grup Tersimpan</h3>
            </div>

            <div class="table-wrapper">
              <table id="group-management-table">
                <thead>
                  <tr>
                    <th>Nama Grup</th>
                    <th>Jumlah Anggota</th>
                    <th>Aksi</th>
                  </tr>
                </thead>
                <tbody id="group-management-tbody"></tbody>
              </table>
            </div>
          </div>
        </section>
      </div>
    </main>

    <footer class="footer">
      <p>&copy; 2025 Pesan Pengingat. All rights reserved.</p>
    </footer>

    <div id="mediaModal" class="modal">
      <span class="close-modal" onclick="closeMediaModal()">&times;</span>
      <div class="modal-content" id="modalContent"></div>
      <a id="downloadLink" class="download-button" download>
        <i class="fa-solid fa-download"></i> Unduh
      </a>
    </div>

    <audio id="notificationSound" preload="auto">
      <source type="audio/wav" src=" //biarkan kosong dulu" />
    </audio>

    <div id="editModal" class="edit-modal">
      <div class="edit-modal-content">
        <div class="edit-modal-header">
          <h2 id="editModalTitle">Edit Jadwal</h2>
          <button class="edit-modal-close" onclick="closeEditModal()">
            &times;
          </button>
        </div>
        <div id="editModalBody"></div>
      </div>
    </div>

    <div id="editContactModal" class="edit-modal">
      <div class="edit-modal-content">
        <div class="edit-modal-header">
          <h2 id="editContactModalTitle">Edit Kontak</h2>
          <button class="edit-modal-close" onclick="closeEditContactModal()">
            &times;
          </button>
        </div>
        <div id="editContactModalBody"></div>
      </div>
    </div>

    <div id="editGroupModal" class="edit-modal">
      <div class="edit-modal-content">
        <div class="edit-modal-header">
          <h2 id="editGroupModalTitle">Edit Grup</h2>
          <button class="edit-modal-close" onclick="closeEditGroupModal()">
            &times;
          </button>
        </div>
        <div id="editGroupModalBody"></div>
      </div>
    </div>

    <div id="detailGroupModal" class="edit-modal">
  <div class="edit-modal-content" style="max-width: 900px;">
    <div class="edit-modal-header">
      <h2 id="detailGroupModalTitle">Detail Grup</h2>
      <button class="edit-modal-close" onclick="closeDetailGroupModal()">
        &times;
      </button>
    </div>
    <div id="detailGroupModalBody" style="padding: 20px;">
      <!-- Content akan diisi oleh JavaScript -->
    </div>
  </div>
</div>

<!-- Modal Tambah Anggota -->
<div id="addMembersModal" class="edit-modal">
  <div class="edit-modal-content" style="max-width: 600px;">
    <div class="edit-modal-header">
      <h2>Tambah Anggota ke Grup</h2>
      <button class="edit-modal-close" onclick="closeAddMembersModal()">
        &times;
      </button>
    </div>
    <div id="addMembersModalBody" style="padding: 20px;">
      <div class="search-box-wrapper" style="margin-bottom: 16px;">
        <i class="fa-solid fa-search"></i>
        <input
          type="text"
          id="addMemberSearch"
          placeholder="Cari kontak..."
          autocomplete="off"
        />
      </div>
      
      <div class="select-all-container" style="margin-bottom: 12px;">
        <label for="selectAllAddMembers">Pilih Semua</label>
        <input type="checkbox" id="selectAllAddMembers" />
      </div>
      
      <div id="addMembersList" class="contact-checklist-box" style="max-height: 400px; overflow-y: auto;">
        <p style="text-align: center; color: #a0aec0;">Memuat kontak...</p>
      </div>
      
      <div style="margin-top: 20px; display: flex; gap: 10px;">
        <button id="confirmAddMembersBtn" class="btn-primary" style="flex: 1;">
          <i class="fa-solid fa-user-plus"></i> Tambahkan
        </button>
        <button onclick="closeAddMembersModal()" class="btn-secondary" style="flex: 1;">
          <i class="fa-solid fa-times"></i> Batal
        </button>
      </div>
    </div>
  </div>
</div>


    <script type="module" src="./js/main.js"></script>
  </body>
</html>
